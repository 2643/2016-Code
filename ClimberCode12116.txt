Talon linearSlide = new Talon(4);
Talon backLeftMotor = new Talon(0);
Talon backRightMotor = new Talon(1);
Talon frontLeftMotor = new Talon(2);
Talon frontRightMotor = new Talon(3);
Joystick gamePad = new Joystick(0);
Timer clock = new Timer();
Encoder slideEncoder = new Encoder(0,1);
Encoder leftDriveEncoder = new Encoder(4,5);
Encoder rightDriveEncoder = new Encoder (2,3);

double highHeightBoundary = 80;
double lowHeightBoundary = 20;

if(clock.get > 130 && gamePad.getRawButton(9))
{
        int state = 0;
        while(state < 3)
        {
                switch(state)
                {
                        //raise hooks
                        case 0:
                                //move slow as you near the top of the linear slide, if not close then go at normal speed
                                if(slideEncoder.get() > highHeightBoundary - 30)
                                {
                                        //stop at the top, if not at the top go slow
                                        if(slideEncoder.get() > highHeightBoundary)
                                        {
                                                linearSlide.set(0);
                                                leftDriveEncoder.reset();
                                                rightDriveEncoder.reset();
                                                state = 1;
                                        }
                                        else
                                        {
                                                linearSlide.set(.2)
                                        }
                                }
                                else
                                {
                                        linearSlide.set(.5);
                                }
                        break;
                        //move forward a bit
                        case 1:
                                if(leftDriveEncoder.get() > 100 || rightDriveEncoder.get() < -100)
                                {
                                        backRightMotor.set(0);
                                        frontRightMotor.set(0);
                                        backLeftMotor.set(0);
                                        frontLeftMotor.set(0);
                                        case = 2;
                                }
                                else
                                {
                                        backRightMotor.set(-.3);
                                        frontRightMotor.set(-.3);
                                        backLeftMotor.set(.3);
                                        frontLeftMotor.set(.3);
                                }
                        break;
                        //pull robot up
                        case 2:
                                //as you near the bottom slow down
                                if(slideEncoder.get() < lowHeightBoundary > 30)
                                {
                                        //stop at the bottom, if not at bottom then go slow
                                        if(slideEncoder.get() < lowHeightBoundary)
                                        {
                                                linearSlide.set(0);
                                                state = 3;
                                        }
                                        else
                                        {
                                                linearSlide.set(-.2)
                                        }
                                }
                                else
                                {
                                        linearSlide.set(-.5);
                                }
                        break;
                }
        }
}
